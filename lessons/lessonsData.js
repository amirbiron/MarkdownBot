// ========================================
// Markdown Trainer Bot - Lessons Data
// All lesson content with quizzes
// ========================================

const lessons = [
  // ========================================
  // LESSON 1: Headers (כותרות)
  // ========================================
  {
    id: 1,
    title: 'כותרות',
    topic: 'headers',
    category: 'basic',
    points: 10,
    messages: [
      `נתחיל מהדבר הכי בסיסי: *כותרות*.\n\n` +
      `כדי ליצור כותרת, פשוט שים סולמית (#) בתחילת השורה.\n\n` +
      `ככל שתוסיף יותר סולמיות, כך הכותרת תהיה קטנה יותר (כותרת משנה).\n\n` +
      `*דוגמאות:*\n` +
      `\`# כותרת ראשית\`\n` +
      `\`## כותרת משנה\`\n` +
      `\`### כותרת קטנה יותר\`\n\n` +
      `⚠️ *חשוב:* חייב להיות רווח בין הסולמית לבין הטקסט!`,
      
      `בוא נראה אם הבנת.`
    ],
    quiz: {
      question: `איך תכתוב במארקדאון את הטקסט "סיכום יומי" בתור *כותרת משנה (רמה שנייה)*?`,
      options: [
        { text: '##סיכום יומי', correct: false },
        { text: '# סיכום יומי', correct: false },
        { text: '## סיכום יומי', correct: true },
        { text: '**סיכום יומי**', correct: false }
      ],
      correctFeedback: 'מעולה! תשובה נכונה. ✅\nכותרת משנה ברמה שנייה נכתבת עם שתי סולמיות ורווח.',
      wrongFeedback: 'אופס, זו לא התשובה הנכונה.\n\nזכור: כדי ליצור כותרת משנה ברמה שנייה, צריך שתי סולמיות (##) ורווח אחריהן.'
    }
  },

  // ========================================
  // LESSON 2: Emphasis & Lists (הדגשות ורשימות)
  // ========================================
  {
    id: 2,
    title: 'הדגשות ורשימות',
    topic: 'emphasis',
    category: 'basic',
    points: 10,
    messages: [
      `מוכן/ה להמשיך? עכשיו נלמד על *הדגשות ורשימות*!\n\n` +
      `נתחיל בהדגשות - איך להפוך טקסט למודגש או נטוי. זה קל מאוד!\n\n` +
      `🔹 כדי להפוך טקסט ל*מודגש* (Bold), עטוף אותו בשתי כוכביות:\n` +
      `\`**טקסט מודגש**\`\n\n` +
      `🔹 כדי להפוך טקסט ל*נטוי* (Italic), עטוף אותו בכוכבית אחת:\n` +
      `\`*טקסט נטוי*\`\n\n` +
      `🔹 ואפשר גם לשלב ביניהם:\n` +
      `\`***טקסט משולב***\`\n\n` +
      `💡 *טיפ:* אפשר להשתמש גם בקו תחתון (\\_) במקום כוכביות!`,

      `עכשיו בוא נלמד על רשימות.\n\n` +
      `רוצה לסדר דברים בצורה ברורה? אין כמו רשימה.\n\n` +
      `כדי ליצור רשימת תבליטים (Bullets), פשוט התחל כל שורה בכוכבית (*) או מקף (-) ואחריהם רווח.\n\n` +
      `*דוגמה:*\n` +
      `\`- חלב\`\n` +
      `\`- לחם\`\n` +
      `\`- ביצים\`\n\n` +
      `פשוט, נכון?`,

      `ועכשיו, בוא נשלב את מה שלמדנו.`
    ],
    quiz: {
      question: `איך תכתוב את רשימת המשימות הבאה, כך שהמילה "דחוף" תהיה מודגשת?\n\n` +
                `- לשלוח מייל\n` +
                `- לקנות מתנה דחוף\n` +
                `- להתקשר לסבתא`,
      options: [
        { text: '* לקנות מתנה *דחוף*', correct: false },
        { text: '* לקנות מתנה **דחוף**', correct: true },
        { text: '** לקנות מתנה דחוף **', correct: false },
        { text: '* לקנות מתנה "דחוף"', correct: false }
      ],
      correctFeedback: 'בול! שילוב מעולה בין רשימה להדגשה. ✅',
      wrongFeedback: 'כמעט... התשובה הנכונה היא `* לקנות מתנה **דחוף**`.\n\nקודם כל יוצרים את פריט הרשימה עם כוכבית ורווח, ואז עוטפים את המילה הרצויה בשתי כוכביות להדגשה.'
    }
  },

  // ========================================
  // LESSON 3: Blockquotes (ציטוטים)
  // ========================================
  {
    id: 3,
    title: 'ציטוטים',
    topic: 'blockquotes',
    category: 'basic',
    points: 10,
    messages: [
      `היי, הגענו לשיעור השלישי!\n\n` +
      `היום נלמד איך להוסיף *ציטוט* (Blockquote). זהו כלי עיצובי נהדר כדי להבליט טקסט של אדם אחר, שאלה חשובה, או הערה שתרצה להדגיש.\n\n` +
      `איך עושים את זה? פשוט מאוד!\n\n` +
      `שים את הסימן "גדול מ-" (>) בתחילת השורה, ואחריו רווח.\n\n` +
      `*דוגמה:*\n` +
      `\`> זהו ציטוט. שימו לב איך הוא נראה שונה משאר הטקסט.\`\n\n` +
      `💡 *טיפ מתקדם:* אפשר גם לקנן ציטוטים אחד בתוך השני!\n` +
      `\`> שאלה: איך לומדים Markdown?\`\n` +
      `\`>> תשובה: מתרגלים כל יום!\``,

      `עכשיו תורך.`
    ],
    quiz: {
      question: `נניח שאתה רוצה לצטט את המשפט המפורסם של ניל ארמסטרונג:\n` +
                `"זהו צעד קטן לאדם, צעד גדול לאנושות".\n\n` +
                `איך תכתוב אותו כציטוט במארקדאון?`,
      options: [
        { text: '* זהו צעד קטן לאדם...', correct: false },
        { text: '>זהו צעד קטן לאדם...', correct: false },
        { text: '"זהו צעד קטן לאדם..."', correct: false },
        { text: '> זהו צעד קטן לאדם...', correct: true }
      ],
      correctFeedback: 'בדיוק! כל הכבוד. ✅\n\nציטוטים יכולים לשדרג כל טקסט.',
      wrongFeedback: 'כמעט שם! התשובה הנכונה היא `> זהו צעד קטן לאדם...`\n\nהטעות הנפוצה היא לשכוח את הרווח אחרי הסימן >. הוא זה שהופך את השורה לציטוט תקני.'
    }
  },

  // ========================================
  // LESSON 4: Links (קישורים)
  // ========================================
  {
    id: 4,
    title: 'קישורים',
    topic: 'links',
    category: 'basic',
    points: 10,
    messages: [
      `בוקר טוב! מוכן/ה להפוך את הטקסט שלך לאינטראקטיבי?\n\n` +
      `היום נלמד איך להוסיף *קישורים* (Hyperlinks). זה המפתח לחיבור הטקסט שלך לאתרים, מאמרים ומקורות מידע אחרים ברשת.\n\n` +
      `המבנה הבסיסי של קישור מורכב משני חלקים:\n` +
      `1️⃣ הטקסט שיוצג: נכתב בסוגריים מרובעים [ ]\n` +
      `2️⃣ הכתובת (URL): נכתבת בסוגריים עגולים ( ) מיד אחרי.\n\n` +
      `*דוגמה:*\n` +
      `\`[לחץ כאן](https://google.com)\`\n\n` +
      `⚠️ *חשוב:* אסור שיהיה רווח בין הסוגריים המרובעים לעגולים.`,

      `💡 *טריק שימושי:*\n\n` +
      `רוצה שהקישור עצמו יוצג כטקסט לחיץ?\n\n` +
      `פשוט עטוף אותו בסוגריים משולשים:\n` +
      `\`<https://google.com>\`\n\n` +
      `זה שימושי במיוחד כשרוצים לשתף כתובת URL בלי להמציא לה טקסט מיוחד.`,

      `עכשיו תורך להרכיב קישור.`
    ],
    quiz: {
      question: `נניח שאתה רוצה ליצור קישור למדריך הרשמי של Markdown, כך שהטקסט שיוצג יהיה "המדריך הרשמי" והכתובת היא \`https://www.markdownguide.org\`\n\n` +
                `איך תכתוב את זה?`,
      options: [
        { text: '(המדריך הרשמי)[https://...]', correct: false },
        { text: '[המדריך הרשמי] (https://...)', correct: false },
        { text: '[המדריך הרשמי](https://...)', correct: true },
        { text: '<המדריך הרשמי>(https://...)', correct: false }
      ],
      correctFeedback: 'מעולה, הקישור בנוי בצורה מושלמת! ✅\n\nעכשיו אתה יכול לקשר לכל מקום שתרצה.',
      wrongFeedback: 'אוי, זה היה קצת טריקי. התשובה הנכונה היא\n`[המדריך הרשמי](https://www.markdownguide.org)`\n\nזכור: קודם כל הטקסט בסוגריים מרובעים [ ], ומיד אחריו, בלי רווח, הכתובת בסוגריים עגולים ( ).'
    }
  },

  // ========================================
  // LESSON 5: Code & Horizontal Rules (קוד וקווים)
  // ========================================
  {
    id: 5,
    title: 'קוד וקווים מפרידים',
    topic: 'code',
    category: 'basic',
    points: 10,
    messages: [
      `היי! היום נלמד שני כלים חדשים שישדרגו את הטקסט שלך.\n\n` +
      `נתחיל עם משהו סופר שימושי: איך להציג *קוד* או פקודות טכניות בלי שהעיצוב שלהם יתבלגן.\n\n` +
      `🔹 להצגת מילה או משפט קצר (Inline Code):\n` +
      `עטוף את הטקסט בתו \\\` (Grave Accent), שנמצא בדרך כלל משמאל למקש הספרה 1.\n\n` +
      `*דוגמה:*\n` +
      `\\\`npm install\\\` ← ככה זה נראה בקוד\n\n` +
      `🔹 להצגת בלוק שלם של קוד:\n` +
      `עטוף את כל קטע הקוד בשלושה תווים של \\\`\\\`\\\` לפני ואחרי.\n\n` +
      `זה יוצר בלוק נפרד עם רקע, ששומר על כל הרווחים והשורות.`,

      `עכשיו נעבור לכלי שני: *קו מפריד* (Horizontal Rule).\n\n` +
      `רוצה ליצור הפרדה ברורה בין נושאים?\n\n` +
      `השתמש בקו מפריד. הוא מושלם כדי לחלק מסמך ארוך לפרקים.\n\n` +
      `איך יוצרים אותו?\n` +
      `פשוט כתוב בשורה נפרדת:\n` +
      `• שלושה מקפים: \`---\`\n` +
      `• או שלוש כוכביות: \`***\`\n` +
      `• או שלושה קווים תחתונים: \`___\`\n\n` +
      `כל אחת מהשורות האלה תיצור קו אופקי יפה.`,

      `עכשיו תורך.`
    ],
    quiz: {
      question: `אתה רוצה להסביר לחבר איך כותבים "שלום עולם" בפייתון.\n\n` +
                `אתה רוצה שהפקודה \`print("Hello, World!")\` תופיע כ-Inline Code בתוך המשפט:\n\n` +
                `"בפייתון, כדי להדפיס טקסט משתמשים בפקודה print("Hello, World!")."\n\n` +
                `איך תכתוב את המשפט?`,
      options: [
        { text: '...בפקודה "print(...)"', correct: false },
        { text: '...בפקודה *print(...)*', correct: false },
        { text: "...בפקודה 'print(...)'", correct: false },
        { text: '...בפקודה `print(...)`', correct: true }
      ],
      correctFeedback: 'יפה מאוד! שימוש מדויק. ✅\n\nהצגת קוד בצורה נכונה היא קריטית בכתיבה טכנית.',
      wrongFeedback: 'אופס, לא בדיוק. התשובה הנכונה היא להשתמש בתו \\\` (backtick):\n`...בפקודה \\`print("Hello, World!")\\``\n\nזכור: כשרוצים להציג קוד קצר בתוך שורה, עוטפים אותו בתו הבודד הזה: \\\`. זה שונה מגרש רגיל (\').'
    }
  },

  // ========================================
  // LESSON 6: Images (תמונות)
  // ========================================
  {
    id: 6,
    title: 'תמונות',
    topic: 'images',
    category: 'basic',
    points: 10,
    messages: [
      `שלום! היום נלמד איך להוסיף *תמונות* למסמך שלך.\n\n` +
      `התחביר של תמונה דומה מאוד לקישור, רק עם תוספת אחת:\n` +
      `צריך להוסיף סימן קריאה (!) בהתחלה.\n\n` +
      `המבנה:\n` +
      `\`![תיאור התמונה](כתובת התמונה)\`\n\n` +
      `*דוגמה:*\n` +
      `\`![חתול חמוד](https://example.com/cat.jpg)\`\n\n` +
      `⚠️ *חשוב:* התיאור (Alt Text) הוא לא רק "קישוט":\n` +
      `• הוא עוזר לאנשים עם לקויות ראייה\n` +
      `• הוא מוצג אם התמונה לא נטענת\n` +
      `• הוא משפר SEO`,

      `💡 *טיפ:* אם אתה רוצה שהתמונה תהיה גם לחיצה (קישור), פשוט עטוף אותה בסוגריים של קישור:\n\n` +
      `\`[![תמונה](url-image)](url-link)\`\n\n` +
      `זה יוצר תמונה שכשלוחצים עליה עוברים לקישור אחר.`,

      `בוא נבדוק אם הבנת.`
    ],
    quiz: {
      question: `אתה רוצה להוסיף תמונה של לוגו של החברה שלך.\n` +
                `כתובת התמונה היא: \`https://example.com/logo.png\`\n` +
                `התיאור צריך להיות: "לוגו החברה"\n\n` +
                `איך תכתוב את זה?`,
      options: [
        { text: '[לוגו החברה](https://example.com/logo.png)', correct: false },
        { text: '!(לוגו החברה)[https://example.com/logo.png]', correct: false },
        { text: '![לוגו החברה](https://example.com/logo.png)', correct: true },
        { text: '<img>לוגו החברה</img>', correct: false }
      ],
      correctFeedback: 'מושלם! תמונה מוכנה. ✅\n\nעכשיו אתה יכול להוסיף תמונות למסמכים שלך.',
      wrongFeedback: 'כמעט! התשובה הנכונה היא:\n`![לוגו החברה](https://example.com/logo.png)`\n\nזכור: תמונה זה בדיוק כמו קישור, רק עם ! בהתחלה.'
    }
  },

  // ========================================
  // LESSON 7: Tables (טבלאות)
  // ========================================
  {
    id: 7,
    title: 'טבלאות',
    topic: 'tables',
    category: 'basic',
    points: 15,
    messages: [
      `מעולה, הגענו לנושא האחרון בקטגוריית "הבסיס"!\n\n` +
      `היום אנחנו לומדים *טבלאות*. זהו נושא מורכב יותר, אבל מאוד חזק.\n\n` +
      `טבלאות מעולות להצגת נתונים, השוואות ומבנים מסודרים.\n\n` +
      `המבנה הבסיסי מורכב משלושה חלקים:\n` +
      `1️⃣ שורת כותרות - העמודות מופרדות ב-|\n` +
      `2️⃣ שורת הפרדה - מקפים וקווים (זו חובה!)\n` +
      `3️⃣ שורות תוכן - כל שורה = שורה בטבלה\n\n` +
      `*דוגמה:*\n` +
      `\`\`\`\n` +
      `| שם | מקצוע |\n` +
      `|---------|----------|\n` +
      `| דני | מתכנת |\n` +
      `| יעל | מעצבת |\n` +
      `\`\`\``,

      `💡 *טריק מתקדם:* רוצה לשלוט על יישור הטקסט?\n\n` +
      `הוסף נקודתיים (:) לשורת ההפרדה:\n\n` +
      `• \`:---\` יישור לשמאל (ברירת מחדל)\n` +
      `• \`:---:\` יישור למרכז\n` +
      `• \`---:\` יישור לימין\n\n` +
      `*דוגמה:*\n` +
      `\`\`\`\n` +
      `| פריט | כמות | מחיר |\n` +
      `|:------|:-----:|------:|\n` +
      `| תפוח | 5     | 10₪  |\n` +
      `\`\`\``  ,

      `עכשיו תורך לבנות את השלד של טבלה.`
    ],
    quiz: {
      question: `אתה צריך ליצור טבלה עם שתי עמודות: "מוצר" ו"מחיר".\n\n` +
                `איך תכתוב את שורת הכותרות ואת שורת ההפרדה שמתחתיה?`,
      options: [
        { text: '| מוצר | מחיר |', correct: false },
        { text: '| מוצר | מחיר |\n--- | ---', correct: false },
        { text: '| מוצר | מחיר |\n|---|---|', correct: true },
        { text: 'מוצר | מחיר\n---|---', correct: false }
      ],
      correctFeedback: 'מעולה! בנית שלד טבלה מושלם. ✅\n\nזה היה הנושא הכי מורכב שלמדנו עד עכשיו, וצלחת אותו!\n\nסיימת את כל נושאי הליבה הבסיסיים! 🎉',
      wrongFeedback: 'אוי, התחביר של טבלאות יכול להיות מבלבל.\n\nהתשובה הנכונה היא שתי שורות:\n```\n| מוצר | מחיר |\n|---|---|\n```\n\nהדבר הכי חשוב לזכור הוא ששורת ההפרדה (עם המקפים) היא חובה והיא זו שמגדירה את הטבלה.'
    }
  },

  // ========================================
  // LESSON 8: Task Lists (רשימות משימות)
  // ========================================
  {
    id: 8,
    title: 'רשימות משימות',
    topic: 'task-lists',
    category: 'advanced',
    points: 10,
    messages: [
      `🚀 ברוך הבא לקטגוריה למתקדמים!\n\n` +
      `היום נלמד פיצ'ר סופר שימושי: *רשימת משימות* (Task List).\n\n` +
      `זה נראה כמו רשימה רגילה, אבל עם תיבות סימון (checkboxes) שאפשר למלא.\n\n` +
      `זה מושלם לניהול משימות בפרויקטים, סיכומי פגישות, או רשימת מטלות אישית.\n\n` +
      `איך יוצרים אותה?\n` +
      `מתחילים כמו רשימה רגילה (- או *), אבל מוסיפים סוגריים מרובעים עם רווח ביניהם [ ]\n\n` +
      `*דוגמה:*\n` +
      `\`\`\`\n` +
      `- [ ] לקנות חלב\n` +
      `- [ ] לכתוב דו"ח\n` +
      `- [x] להתקשר ללקוח\n` +
      `\`\`\`\n\n` +
      `💡 שים לב: כדי לסמן משימה כמושלמת, שמים x בתוך הסוגריים!`,

      `עכשיו תורך.`
    ],
    quiz: {
      question: `אתה רוצה ליצור פריט ברשימת משימות עבור "ללמוד Markdown", ולסמן אותו כמשימה ש*עדיין לא בוצעה*.\n\n` +
                `איך תכתוב את זה נכון?`,
      options: [
        { text: '* ( ) ללמוד Markdown', correct: false },
        { text: '- [x] ללמוד Markdown', correct: false },
        { text: '- (x) ללמוד Markdown', correct: false },
        { text: '- [ ] ללמוד Markdown', correct: true }
      ],
      correctFeedback: 'בדיוק כך! ✅\n\nעכשיו אתה יכול לנהל משימות כמו מקצוען.',
      wrongFeedback: 'כמעט... התשובה הנכונה היא `- [ ] ללמוד Markdown`\n\nזכור: למשימה פתוחה משתמשים בסוגריים מרובעים ריקים [ ]. כדי לסמן שהיא בוצעה, מוסיפים x בפנים.'
    }
  },

  // ========================================
  // LESSON 9: Reference Links (קישורי הפניה)
  // ========================================
  {
    id: 9,
    title: 'קישורי הפניה',
    topic: 'reference-links',
    category: 'advanced',
    points: 10,
    messages: [
      `היי, ברוך הבא לשיעור נוסף למתקדמים!\n\n` +
      `זוכר איך יוצרים קישורים רגילים? \`[טקסט](כתובת)\`\n\n` +
      `זה עובד מצוין, אבל כשיש הרבה קישורים ארוכים, הטקסט הופך לקשה לקריאה.\n\n` +
      `היום נלמד טכניקה אלגנטית: *קישורי הפניה* (Reference Links).\n\n` +
      `הרעיון הוא להפריד בין הקישור בטקסט לבין ה-URL עצמו.\n\n` +
      `המבנה:\n` +
      `1️⃣ במקום הקישור: \`[הטקסט][שם-הפניה]\`\n` +
      `2️⃣ בכל מקום אחר: \`[שם-הפניה]: https://...\`\n\n` +
      `*דוגמה:*\n` +
      `\`\`\`\n` +
      `אני אוהב [ויקיפדיה][wiki] ו[גיקטיים][gt].\n\n` +
      `[wiki]: https://he.wikipedia.org\n` +
      `[gt]: https://www.geektime.co.il\n` +
      `\`\`\``,

      `היתרונות:\n` +
      `✅ הטקסט הראשי נשאר נקי וקריא\n` +
      `✅ קל לעדכן קישורים במקום אחד\n` +
      `✅ אפשר להשתמש באותה הפניה מספר פעמים`,

      `עכשיו תורך.`
    ],
    quiz: {
      question: `אתה רוצה ליצור קישור ל-GitHub עם הטקסט "הפרויקט שלי".\n` +
                `שם ההפניה שבחרת הוא \`gh\`.\n\n` +
                `איך תכתוב את החלק שיופיע *בתוך המשפט*?`,
      options: [
        { text: '[הפרויקט שלי](gh)', correct: false },
        { text: '[הפרויקט שלי]', correct: false },
        { text: '[gh]: הפרויקט שלי', correct: false },
        { text: '[הפרויקט שלי][gh]', correct: true }
      ],
      correctFeedback: 'בדיוק! זו הדרך האלגנטית. ✅\n\nשימוש בקישורי הפניה הוא סימן של כותב Markdown מנוסה.',
      wrongFeedback: 'כמעט... התשובה הנכונה היא `[הפרויקט שלי][gh]`\n\nזכור: המבנה הוא [טקסט לתצוגה][שם-הפניה]. את הגדרת הכתובת [gh]: https://... שמים במקום אחר.'
    }
  },

  // ========================================
  // LESSON 10: Footnotes (הערות שוליים)
  // ========================================
  {
    id: 10,
    title: 'הערות שוליים',
    topic: 'footnotes',
    category: 'advanced',
    points: 10,
    messages: [
      `שלום! היום נלמד פיצ'ר מתקדם שמוסיף עומק ורצינות למסמכים שלך:\n\n` +
      `*הערות שוליים* (Footnotes).\n\n` +
      `הערת שוליים היא דרך להוסיף הסבר, מקור או פרט נוסף לטקסט, מבלי להכניס אותו לגוף הפסקה.\n\n` +
      `המבנה:\n` +
      `1️⃣ הסימון בטקסט: \`[^1]\` או \`[^שם]\`\n` +
      `2️⃣ תוכן ההערה: \`[^1]: טקסט ההערה\`\n\n` +
      `*דוגמה:*\n` +
      `\`\`\`\n` +
      `מארקדאון נוצרה בשנת 2004[^1].\n\n` +
      `[^1]: על ידי ג'ון גרובר.\n` +
      `\`\`\`\n\n` +
      `💡 המערכת ממספרת את ההערות אוטומטית לפי סדר הופעתן!`,

      `עכשיו תורך.`
    ],
    quiz: {
      question: `אתה רוצה להוסיף הערת שוליים עם המזהה \`note\` למשפט "השמש היא כוכב".\n\n` +
                `איך תכתוב את הסימון שיופיע *בתוך המשפט*?`,
      options: [
        { text: '[note]', correct: false },
        { text: '(^note)', correct: false },
        { text: '[^note]', correct: true },
        { text: '[^note]:', correct: false }
      ],
      correctFeedback: 'בדיוק! סימון מדויק. ✅\n\nעכשיו אתה יכול להוסיף הערות כמו חוקר אמיתי.',
      wrongFeedback: 'כמעט... התשובה הנכונה היא `[^note]`\n\nזכור: הסימון להערת שוליים מתחיל עם [^, מכיל את המזהה, ונגמר ב-]. את תוכן ההערה מגדירים בנפרד עם נקודתיים.'
    }
  },

  // ========================================
  // LESSON 11: HTML in Markdown (HTML במארקדאון)
  // ========================================
  {
    id: 11,
    title: 'שימוש ב-HTML',
    topic: 'html',
    category: 'advanced',
    points: 10,
    messages: [
      `שלום! היום נלמד משהו שונה לגמרי.\n\n` +
      `Markdown תוכננה להיות פשוטה, ולפעמים הפשטות הזו באה עם מגבלות.\n\n` +
      `מה קורה אם אתה רוצה לעשות משהו שאין לו תחביר ייעודי, כמו לשנות צבע של טקסט או ליצור כפתור?\n\n` +
      `התשובה: *אפשר להשתמש ב-HTML ישירות* בתוך קובץ ה-Markdown!\n\n` +
      `*דוגמאות נפוצות:*\n\n` +
      `🔹 *טקסט צבעוני:*\n` +
      `\`<span style="color:red;">טקסט אדום</span>\`\n\n` +
      `🔹 *טקסט עילי ותחתי:*\n` +
      `\`H<sub>2</sub>O\` → H₂O\n` +
      `\`E=mc<sup>2</sup>\` → E=mc²\n\n` +
      `🔹 *תפריט נפתח:*\n` +
      `\`<details><summary>לחץ</summary>תוכן נסתר</details>\``,

      `⚠️ *אזהרה:* שימוש יתר ב-HTML יכול לסבך את הקוד.\n\nהשתמש בו רק כשאין ברירה!`,

      `עכשיו תורך.`
    ],
    quiz: {
      question: `אתה רוצה לכתוב את המשפט "E = mc²", כאשר הספרה 2 היא חזקה (טקסט עילי).\n\n` +
                `באיזה תג HTML תעטוף את הספרה 2?`,
      options: [
        { text: '<sub>2</sub>', correct: false },
        { text: '<small>2</small>', correct: false },
        { text: '<sup>2</sup>', correct: true },
        { text: '<bold>2</bold>', correct: false }
      ],
      correctFeedback: 'יפה מאוד! הבנת את הכוח של שילוב HTML. ✅\n\nעכשיו יש לך כלי רב עוצמה למקרים שבהם Markdown פשוט לא מספיק.',
      wrongFeedback: 'אופס, התשובה הנכונה היא `<sup>` (קיצור של superscript).\n\nהתג <sub> (subscript) משמש לטקסט תחתי, כמו בנוסחה H₂O.'
    }
  },

  // ========================================
  // LESSON 12: Mermaid Diagrams (דיאגרמות)
  // ========================================
  {
    id: 12,
    title: 'דיאגרמות עם Mermaid',
    topic: 'mermaid',
    category: 'advanced',
    points: 15,
    messages: [
      `🎉 הגענו לשיעור האחרון והמרשים ביותר!\n\n` +
      `היום נלמד את אחד הכלים הכי מודרניים: יצירת *דיאגרמות ותרשימים* ישירות מטקסט, עם Mermaid.\n\n` +
      `מה זה אומר? שבמקום להשתמש בכלי ציור מסורבל, תוכל לתאר את התרשים שלך במילים, והוא ייווצר אוטומטית!\n\n` +
      `איך זה עובד?\n` +
      `יוצרים בלוק קוד, אבל במקום לציין שפת תכנות, כותבים \`mermaid\`:\n\n` +
      `\`\`\`mermaid\n` +
      `graph TD;\n` +
      `  A --> B;\n` +
      `\`\`\`\n\n` +
      `⚠️ לא ניתן לראות את התוצאה בטלגרם - תצטרך להשתמש ב-/sandbox שלנו!`,

      `בוא נראה תרשים זרימה פשוט:\n\n` +
      `\`\`\`mermaid\n` +
      `graph TD;\n` +
      `  A[לקום בבוקר] --> B(לשתות קפה);\n` +
      `  B --> C{האם אני עייף?};\n` +
      `  C -->|כן| B;\n` +
      `  C -->|לא| D[להתחיל לעבוד];\n` +
      `\`\`\`\n\n` +
      `מה רואים כאן?\n` +
      `• \`graph TD\` - תרשים מלמעלה למטה\n` +
      `• \`A[טקסט]\` - מלבן\n` +
      `• \`B(טקסט)\` - פינות מעוגלות\n` +
      `• \`C{טקסט}\` - מעוין (החלטה)\n` +
      `• \`-->\` - חץ`,

      `עכשיו תורך.`
    ],
    quiz: {
      question: `אתה רוצה ליצור את החלק הכי בסיסי בתרשים זרימה:\n` +
                `צומת A שמצביע על צומת B.\n\n` +
                `איך תכתוב את השורה שמגדירה את הקשר הזה?`,
      options: [
        { text: 'A -> B', correct: false },
        { text: 'A => B', correct: false },
        { text: 'A to B', correct: false },
        { text: 'A --> B', correct: true }
      ],
      correctFeedback: 'מעולה! זה בדיוק החץ הנכון. ✅\n\nפתחת את הדלת לעולם שלם של ויזואליזציה!\n\n🎉 סיימת את פרק המתקדמים!',
      wrongFeedback: 'כמעט... התשובה הנכונה היא `A --> B`\n\nזכור: החץ הבסיסי ב-Mermaid מורכב משני מקפים וחץ (-->).\n\nאני ממליץ בחום לשחק עם זה ב-/sandbox!'
    }
  },

  // ========================================
  // LESSON 13: Whitespace & Formatting (רווחים ועיצוב)
  // ========================================
  {
    id: 13,
    title: 'החשיבות של רווחים',
    topic: 'formatting',
    category: 'aesthetics',
    points: 10,
    messages: [
      `🎨 ברוך הבא לפרק "אסתטיקה וטיפים"!\n\n` +
      `עכשיו שאתה שולט בתחביר, נלמד את *האמנות* שמאחורי הכתיבה.\n\n` +
      `היום נדבר על משהו שנראה פשוט אבל סופר חשוב: *רווחים* (Whitespace).\n\n` +
      `רווחים נכונים בין פסקאות, סביב כותרות ולפני רשימות הם ההבדל בין מסמך מקצועי למסמך דחוס ובלתי קריא.\n\n` +
      `💡 *כללי זהב:*\n\n` +
      `✅ תמיד השאר שורה ריקה לפני ואחרי כותרת\n` +
      `✅ השאר שורה ריקה בין פסקאות\n` +
      `✅ השאר שורה ריקה לפני רשימות\n` +
      `✅ אל תפחד מרווחים - הם עוזרים לעיניים!`,

      `*דוגמה רעה:*\n` +
      `\`\`\`\n` +
      `# כותרת\n` +
      `טקסט ללא רווח.\n` +
      `- פריט 1\n` +
      `\`\`\`\n\n` +
      `*דוגמה טובה:*\n` +
      `\`\`\`\n` +
      `# כותרת\n\n` +
      `טקסט עם רווח.\n\n` +
      `- פריט 1\n` +
      `\`\`\``,

      `זכור: קוד Markdown נקי ומאוורר = מסמך יפה וקריא! ✨`
    ],
    quiz: null // No quiz for this lesson
  },

  // ========================================
  // LESSON 14: Emojis & Icons (אימוג'ים ואייקונים)
  // ========================================
  {
    id: 14,
    title: 'אימוג\'ים ואייקונים',
    topic: 'emojis',
    category: 'aesthetics',
    points: 10,
    messages: [
      `היום נדבר על *אימוג'ים ואייקונים*! 🎨\n\n` +
      `שימוש נכון באימוג'ים יכול:\n` +
      `✅ להוסיף עניין ויזואלי\n` +
      `✅ לשפר הבנה של הקשר\n` +
      `✅ לחלק מידע לקטגוריות\n\n` +
      `*איפה להשתמש באימוג'ים?*\n\n` +
      `🔹 *בכותרות* - להוסיף הקשר:\n` +
      `\`## 📚 ספרייה\`\n\n` +
      `🔹 *ברשימות* - להבליט פריטים:\n` +
      `\`- ✅ הושלם\`\n` +
      `\`- ❌ לא הושלם\`\n\n` +
      `🔹 *בטבלאות* - לציין סטטוס:\n` +
      `\`| משימה | סטטוס |\`\n` +
      `\`| כתיבה | ✅ |\``,

      `💡 *טיפים:*\n\n` +
      `• אל תגזים - 1-2 אימוג'ים בכותרת זה מספיק\n` +
      `• השתמש באימוג'ים עקביים (✅ תמיד ל"הושלם")\n` +
      `• בחר אימוג'ים רלוונטיים לתוכן\n\n` +
      `*אימוג'ים נפוצים:*\n` +
      `✅ ❌ ⚠️ 💡 🚀 📌 📝 🎯 🔥 ⭐\n\n` +
      `זכור: פחות זה יותר! 🎨`
    ],
    quiz: null
  },

  // ========================================
  // LESSON 15: Alt Text for Images (טקסט חלופי)
  // ========================================
  {
    id: 15,
    title: 'כתיבת Alt Text משמעותי',
    topic: 'accessibility',
    category: 'aesthetics',
    points: 10,
    messages: [
      `🎓 הגענו לשיעור האחרון!\n\n` +
      `היום נדבר על משהו שהרבה אנשים מזניחים: *Alt Text* (טקסט חלופי) לתמונות.\n\n` +
      `זכור שכתבנו תמונות ככה?\n` +
      `\`![תיאור](url)\`\n\n` +
      `התיאור הזה הוא לא סתם "קישוט" - הוא קריטי!\n\n` +
      `*למה Alt Text חשוב?*\n\n` +
      `♿ *נגישות:* עוזר לאנשים עם לקויות ראייה\n` +
      `🔍 *SEO:* משפר דירוג במנועי חיפוש\n` +
      `🖼️ *כשהתמונה לא נטענת:* מראה מה היה אמור להיות שם`,

      `*איך לכתוב Alt Text טוב?*\n\n` +
      `❌ *גרוע:* \`![תמונה](cat.jpg)\`\n` +
      `❌ *לא מספיק:* \`![חתול](cat.jpg)\`\n` +
      `✅ *מצוין:* \`![חתול כתום ישן על ספה אפורה](cat.jpg)\`\n\n` +
      `*כללי זהב:*\n\n` +
      `1. תאר את מה שרואים, לא "תמונה של"\n` +
      `2. היה ספציפי אבל תמציתי (10-15 מילים)\n` +
      `3. כלול הקשר רלוונטי\n` +
      `4. אל תכתוב "תמונה" או "צילום" - זה מובן מאליו`,

      `🎉 *מזל טוב!*\n\n` +
      `סיימת את כל השיעורים של Markdown Trainer!\n\n` +
      `אתה עכשיו אשף Markdown מוסמך! 🏆\n\n` +
      `המשך לתרגל במעבדה (/sandbox) ותעזור לאחרים ללמוד.\n\n` +
      `תודה שלמדת איתי! 🚀`
    ],
    quiz: null
  }
];

// ========================================
// Helper Functions
// ========================================

const getLessonById = (lessonId) => {
  return lessons.find(lesson => lesson.id === lessonId);
};

const getAllLessons = () => {
  return lessons;
};

const getLessonsByCategory = (category) => {
  return lessons.filter(lesson => lesson.category === category);
};

const getLessonsByTopic = (topic) => {
  return lessons.filter(lesson => lesson.topic === topic);
};

const getTotalLessons = () => {
  return lessons.length;
};

// ========================================
// Exports
// ========================================

module.exports = {
  getLesson: getLessonById,
  getAllLessons,
  getLessonsByCategory,
  getLessonsByTopic,
  getTotalLessons,
  lessons
};
